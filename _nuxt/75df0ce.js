(window.webpackJsonp=window.webpackJsonp||[]).push([[4,3],{290:function(e,r,t){"use strict";t.r(r);t(44),t(32),t(10),t(196),t(34),t(33),t(26),t(42),t(27),t(43);var n=t(18),o=t(50);function c(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}var d={name:"SelectDriver",data:function(){return{driver:""}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}({},Object(o.b)(["drivers","rooms"]))},f=d,l=t(66),component=Object(l.a)(f,(function(){var e=this,r=e._self._c;return r("div",{staticStyle:{padding:"20px",width:"500px"}},[r("label",{staticStyle:{"padding-right":"5px"},attrs:{for:"drivers"}},[e._v("Seleccione conductor:")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.driver,expression:"driver"}],attrs:{id:"drivers",name:"drivers"},on:{change:function(r){var t=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.driver=r.target.multiple?t:t[0]}}},e._l(e.drivers.filter((function(r){return!e.rooms.find((function(e){return e.driverId===r.id}))})),(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v("\n      "+e._s(t.name)+"\n    ")])})),0),e._v(" "),r("button",{staticClass:"items-center rounded-md border border-transparent bg-indigo-600 py-1 px-4 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",on:{click:function(r){return e.$emit("click",e.driver)}}},[e._v("\n    OK\n  ")]),e._v(" "),r("button",{staticClass:"items-center rounded-md border border-gray-300 bg-white px-4 py-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",on:{click:function(r){return e.$emit("cancel")}}},[e._v("\n    Cancel\n  ")])])}),[],!1,null,null,null);r.default=component.exports},295:function(e,r,t){"use strict";t.r(r);t(33),t(26),t(32),t(10),t(42),t(27),t(43);var n=t(18),o=t(6),c=(t(28),t(291)),d=t(50),f=t(290);function l(object,e){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),r.push.apply(r,t)}return r}Object(c.a)();var m={name:"IndexPage",components:{SelectDriver:f.default},data:function(){return{addDriver:!1,currentUserId:"1234",messages:[],messagesLoaded:!1}},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$store.dispatch("fetchDrivers");case 2:return r.next=4,e.$store.dispatch("bindRooms");case 4:case"end":return r.stop()}}),r)})))()},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(r){Object(n.a)(e,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(source,r))}))}return e}({},Object(d.b)(["drivers","rooms"])),methods:{addRoom:function(e){this.$store.dispatch("addRoom",e),this.addDriver=!1},fetchMessages:function(e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.room,r.messages=[],t.next=4,r.$store.dispatch("unbindMessages");case 4:return t.next=6,r.$store.dispatch("bindMessages",n.roomId);case 6:r.messages=r.$store.getters.messages,r.messagesLoaded=!0;case 8:case"end":return t.stop()}}),t)})))()}}},v=m,O=t(66),component=Object(O.a)(v,(function(){var e=this,r=e._self._c;return r("div",[e.addDriver?r("select-driver",{on:{click:e.addRoom,cancel:function(r){e.addDriver=!1}}}):e._e(),e._v(" "),r("vue-advanced-chat",{attrs:{height:"calc(100vh - 65px)","current-user-id":e.currentUserId,rooms:JSON.stringify(e.rooms),"rooms-loaded":!0,messages:JSON.stringify(e.messages),"messages-loaded":e.messagesLoaded},on:{"send-message":function(r){return e.$store.dispatch("sendMessage",r.detail[0])},"fetch-messages":function(r){return e.fetchMessages(r.detail[0])},"add-room":function(r){e.addDriver=!0}}})],1)}),[],!1,null,null,null);r.default=component.exports;installComponents(component,{SelectDriver:t(290).default})}}]);